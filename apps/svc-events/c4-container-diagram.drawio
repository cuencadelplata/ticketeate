<mxfile host="app.diagrams.net" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36" version="28.1.1">
  <diagram name="C4-Container" id="c4-container">
    <mxGraphModel dx="1478" dy="554" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1400" pageHeight="900" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="title" value="Sistema de Eventos - Diagrama de Contenedores C4" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=20;fontStyle=1;" parent="1" vertex="1">
          <mxGeometry x="560" y="20" width="400" height="30" as="geometry" />
        </mxCell>
        <mxCell id="organizador" value="Organizador de Eventos" style="shape=umlActor;verticalLabelPosition=bottom;verticalAlign=top;html=1;outlineConnect=0;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="50" y="200" width="60" height="100" as="geometry" />
        </mxCell>
        <mxCell id="visitante" value="Visitante" style="shape=umlActor;verticalLabelPosition=bottom;verticalAlign=top;html=1;outlineConnect=0;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="50" y="400" width="60" height="100" as="geometry" />
        </mxCell>
        <mxCell id="admin" value="Administrador" style="shape=umlActor;verticalLabelPosition=bottom;verticalAlign=top;html=1;outlineConnect=0;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="50" y="600" width="60" height="100" as="geometry" />
        </mxCell>
        <mxCell id="system-boundary" value="Sistema de Gestión de Eventos (svc-events)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=16;fontStyle=1;dashed=1;" parent="1" vertex="1">
          <mxGeometry x="200" y="150" width="1000" height="600" as="geometry" />
        </mxCell>
        <mxCell id="lambda-handler" value="AWS Lambda Handler&#xa;(lambda.ts)&#xa;&#xa;• Maneja requests HTTP&#xa;• Integra con Hono Framework&#xa;• Procesa eventos de API Gateway" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="250" y="200" width="180" height="120" as="geometry" />
        </mxCell>
        <mxCell id="hono-app" value="Hono Application&#xa;(app.ts)&#xa;&#xa;• Middleware de CORS&#xa;• Middleware de Logging&#xa;• Middleware de Timing&#xa;• Manejo de errores" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="480" y="200" width="180" height="120" as="geometry" />
        </mxCell>
        <mxCell id="api-routes" value="API Routes&#xa;(routes/api.ts)&#xa;&#xa;• Autenticación Clerk&#xa;• Rutas de usuarios&#xa;• Rutas protegidas" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="710" y="200" width="180" height="120" as="geometry" />
        </mxCell>
        <mxCell id="events-routes" value="Events Routes&#xa;(routes/events.ts)&#xa;&#xa;• CRUD de eventos&#xa;• Upload de imágenes&#xa;• Eventos públicos/privados&#xa;• Validación de datos" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="970" y="200" width="180" height="120" as="geometry" />
        </mxCell>
        <mxCell id="health-routes" value="Health Routes&#xa;(routes/health.ts)&#xa;&#xa;• Health checks&#xa;• Readiness checks&#xa;• Liveness checks" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="320" y="350" width="180" height="120" as="geometry" />
        </mxCell>
        <mxCell id="event-service" value="Event Service&#xa;(services/event-service.ts)&#xa;&#xa;• Lógica de negocio&#xa;• Operaciones CRUD&#xa;• Validaciones&#xa;• Transacciones DB" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="970" y="350" width="180" height="120" as="geometry" />
        </mxCell>
        <mxCell id="image-service" value="Image Upload Service&#xa;(services/image-upload.ts)&#xa;&#xa;• Upload a Cloudinary&#xa;• Optimización de imágenes&#xa;• Gestión de archivos" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="610" y="350" width="180" height="120" as="geometry" />
        </mxCell>
        <mxCell id="prisma-client" value="Prisma Client&#xa;(config/prisma.ts)&#xa;&#xa;• ORM para PostgreSQL&#xa;• Conexión a DB&#xa;• Queries tipadas" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="970" y="490" width="180" height="120" as="geometry" />
        </mxCell>
        <mxCell id="cloudinary-config" value="Cloudinary Config&#xa;(config/cloudinary.ts)&#xa;&#xa;• Configuración API&#xa;• Transformaciones&#xa;• Gestión de assets" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="610" y="610" width="180" height="120" as="geometry" />
        </mxCell>
        <mxCell id="clerk" value="Clerk&#xa;(Autenticación)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" parent="1" vertex="1">
          <mxGeometry x="930" y="40" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="cloudinary" value="Cloudinary&#xa;(CDN de Imágenes)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" parent="1" vertex="1">
          <mxGeometry x="1240" y="620" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="database" value="PostgreSQL&#xa;(Base de Datos)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" parent="1" vertex="1">
          <mxGeometry x="1240" y="520" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="aws-lambda" value="AWS Lambda&#xa;(Runtime)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" parent="1" vertex="1">
          <mxGeometry x="460" y="40" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="rel1" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="lambda-handler" target="hono-app" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="450" y="260" as="sourcePoint" />
            <mxPoint x="500" y="210" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="rel2" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="hono-app" target="api-routes" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="680" y="260" as="sourcePoint" />
            <mxPoint x="730" y="210" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="rel3" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="api-routes" target="events-routes" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="910" y="260" as="sourcePoint" />
            <mxPoint x="960" y="210" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="rel4" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="hono-app" target="health-routes" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="570" y="340" as="sourcePoint" />
            <mxPoint x="570" y="290" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="rel5" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="events-routes" target="event-service" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1030" y="340" as="sourcePoint" />
            <mxPoint x="570" y="290" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="rel6" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="events-routes" target="image-service" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1030" y="340" as="sourcePoint" />
            <mxPoint x="800" y="290" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="rel7" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="event-service" target="prisma-client" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="570" y="500" as="sourcePoint" />
            <mxPoint x="1030" y="290" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="rel8" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="image-service" target="cloudinary-config" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="800" y="500" as="sourcePoint" />
            <mxPoint x="340" y="290" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="rel9" value="Autentica" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.2;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="api-routes" target="clerk" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="910" y="240" as="sourcePoint" />
            <mxPoint x="1200" y="240" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="rel10" value="Sube imágenes" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.4;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="cloudinary-config" target="cloudinary" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="450" y="580" as="sourcePoint" />
            <mxPoint x="1200" y="360" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="rel11" value="Persiste datos" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.6;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="prisma-client" target="database" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1030" y="420" as="sourcePoint" />
            <mxPoint x="1200" y="480" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="rel12" value="Ejecuta en" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.8;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" target="aws-lambda" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="430" y="226" as="sourcePoint" />
            <mxPoint x="1280.0000000000005" y="70" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="rel13" value="HTTPS" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.2;entryDx=0;entryDy=0;" parent="1" source="organizador" target="lambda-handler" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="130" y="250" as="sourcePoint" />
            <mxPoint x="180" y="200" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="rel14" value="HTTPS" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.4;entryDx=0;entryDy=0;" parent="1" source="visitante" target="lambda-handler" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="130" y="450" as="sourcePoint" />
            <mxPoint x="180" y="400" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="rel15" value="HTTPS" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.6;entryDx=0;entryDy=0;" parent="1" source="admin" target="lambda-handler" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="130" y="650" as="sourcePoint" />
            <mxPoint x="180" y="600" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="legend" value="Leyenda:&#xa;• Contenedores internos&#xa;• Servicios externos&#xa;• Flujo de datos" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;align=left;verticalAlign=top;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="50" y="50" width="200" height="80" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>



